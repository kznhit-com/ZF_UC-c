<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù„Ø¹Ø¨Ø© Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª</title>

<style>
*{box-sizing:border-box;font-family:Arial}

body{
    margin:0;
    min-height:100vh;
    background:linear-gradient(135deg,#354f52,#2f3e46);
    display:flex;
    justify-content:center;
    align-items:center;
    color:#fff;
}

.game-container{
    position:relative;
    width:90%;
    max-width:520px;
    background:rgba(0,0,0,.45);
    padding:30px;
    border-radius:22px;
    text-align:center;
}

.back{
    position:absolute;
    top:15px;
    left:15px;
    border:none;
    border-radius:12px;
    padding:8px 14px;
    cursor:pointer;
}

.menu-btn{
    position:absolute;
    top:15px;
    right:15px;
    cursor:pointer;
    font-size:22px;
}

.menu{
    position:absolute;
    top:55px;
    right:10px;
    background:#fff;
    color:#000;
    width:100%;
    max-width:480px;
    padding:15px;
    border-radius:16px;
    display:none;
    text-align:right;
}

.question{
    background:#fff;
    color:#000;
    padding:22px;
    border-radius:16px;
    font-size:28px;
    margin-bottom:25px;
}

.answers{
    display:flex;
    flex-direction:column;
    gap:15px;
}

.answers button{
    background:#000;
    color:#fff;
    border:none;
    border-radius:16px;
    padding:20px;
    font-size:20px;
    cursor:pointer;
}

.answers button:hover{background:#222}

.center{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.8);
    display:flex;
    justify-content:center;
    align-items:center;
    z-index:100;
}

.center div{
    background:#fff;
    color:#000;
    padding:30px;
    border-radius:20px;
    font-size:24px;
    text-align:center;
}

.result{
    background:#f1f1f1;
    color:#000;
    padding:12px;
    border-radius:12px;
    margin-bottom:10px;
    font-size:14px;
}

.correct{color:green;font-weight:bold}
.incorrect{color:red;font-weight:bold}
</style>
</head>

<body>

<div class="game-container">

<button class="back" onclick="location.href='index.html'">â¬…ï¸</button>
<div class="menu-btn" onclick="toggleMenu()">â˜°</div>

<div class="menu" id="menu">
<h3>ğŸ“Š Ø¢Ø®Ø± Ù†ØªÙŠØ¬Ø©</h3>
<div id="scoreBox">-</div>
</div>

<div class="question" id="question"></div>
<div class="answers" id="answers"></div>

</div>

<script>
const allQuestions = [
{q:"2 + 3 Ã— 2 = ØŸ",c:[10,7,8,6],a:8},
{q:"Ù…Ø­ÙŠØ· Ù…Ø±Ø¨Ø¹ Ø¶Ù„Ø¹Ù‡ 5",c:[10,15,20,25],a:20},
{q:"(4+6)Â²",c:[50,64,100,121],a:100},
{q:"3Â² + 4Â²",c:[25,49,12,7],a:25},
{q:"Ø¹Ø¯Ø¯ Ã·4 =7",c:[24,26,28,30],a:28},
{q:"2x + 6 = 18",c:[5,6,7,8],a:6},
{q:"Ø²Ø§ÙˆÙŠØ© Ù…Ø³ØªÙ‚ÙŠÙ…Ø©",c:[90,120,180,360],a:180},
{q:"Ø¹Ø¯Ø¯ Ø£ÙˆÙ„ÙŠ",c:[9,15,17,21],a:17},
{q:"(6+4)Ã·2",c:[4,5,6,7],a:5},
{q:"Ù…Ø¬Ù…ÙˆØ¹ Ø£ÙˆÙ„ 3 Ø£Ø¹Ø¯Ø§Ø¯ ÙØ±Ø¯ÙŠØ©",c:[6,8,9,12],a:9},

{q:"5x - 5 = 20",c:[4,5,6,7],a:5},
{q:"8 Ã— (5âˆ’2)",c:[16,20,24,30],a:24},
{q:"Ø¹Ø¯Ø¯ Ø¥Ø°Ø§ Ø¶Ø±Ø¨ ÙÙŠ Ù†ÙØ³Ù‡ = 144",c:[10,11,12,13],a:12},
{q:"Ø¹Ø¯Ø¯ - 20 = Ù†ØµÙÙ‡",c:[20,30,40,50],a:40},
{q:"Ù…Ø¬Ù…ÙˆØ¹ Ø²ÙˆØ§ÙŠØ§ Ø§Ù„Ø±Ø¨Ø§Ø¹ÙŠ",c:[180,270,360,450],a:360},
{q:"(2+3)Â³",c:[25,75,100,125],a:125},
{q:"Ø¹Ø¯Ø¯ Ã·5 = 9",c:[40,45,50,55],a:45},
{q:"Ù…Ø³Ø§Ø­Ø© Ù…Ø±Ø¨Ø¹ Ø¶Ù„Ø¹Ù‡ 11",c:[121,111,99,132],a:121},
{q:"Ù…Ø­ÙŠØ· Ù…Ø«Ù„Ø« Ù…ØªØ³Ø§ÙˆÙŠ Ø§Ù„Ø£Ø¶Ù„Ø§Ø¹ Ø¶Ù„Ø¹Ù‡ 7",c:[14,21,28,35],a:21},
{q:"3(xâˆ’2)=12",c:[4,5,6,7],a:6},

{q:"Ø¹Ø¯Ø¯ Ø¥Ø°Ø§ Ø²ÙŠØ¯ 12 Ø£ØµØ¨Ø­ Ø¶Ø¹ÙÙ‡",c:[10,12,14,16],a:12},
{q:"6Â³ Ã· 9",c:[18,24,36,48],a:24},
{q:"Ù…Ø¬Ù…ÙˆØ¹ Ø²ÙˆØ§ÙŠØ§ Ø§Ù„Ø®Ù…Ø§Ø³ÙŠ",c:[360,450,540,630],a:540},
{q:"Ø¹Ø¯Ø¯ Ã·8 = 6",c:[42,46,48,54],a:48},
{q:"4x = 36",c:[7,8,9,10],a:9},
{q:"(10Ã·2)Ã—6",c:[25,30,40,60],a:30},
{q:"Ø¹Ø¯Ø¯ Ø£Ø¶Ù„Ø§Ø¹ Ø§Ù„Ù…Ø«Ù…Ù†",c:[6,7,8,9],a:8},
{q:"Ù…Ø¬Ù…ÙˆØ¹ Ø²ÙˆØ§ÙŠØ§ Ø§Ù„Ø³Ø¯Ø§Ø³ÙŠ",c:[540,600,720,900],a:720},
{q:"Ø²Ø§ÙˆÙŠØ© Ù…Ù†ÙØ±Ø¬Ø© ØªÙ‚Ø¹ Ø¨ÙŠÙ†",c:["0-90","90-180","180-270","270-360"],a:"90-180"},
{q:"Ø¹Ø¯Ø¯ Ø£ÙˆÙ„ÙŠ Ø¢Ø®Ø±",c:[21,27,29,35],a:29},

{q:"Ù…Ø­ÙŠØ· Ù…Ø±Ø¨Ø¹ Ù…Ø³Ø§Ø­ØªÙ‡ 49",c:[24,26,28,30],a:28},
{q:"Ø¹Ø¯Ø¯ + 9 Ø«Ù… Ã—2 = 30",c:[5,6,7,8],a:6},
{q:"15 âˆ’ (5Ã—2)",c:[3,5,7,10],a:5},
{q:"Ø¹Ø¯Ø¯ Ã·9 = 8",c:[63,72,81,90],a:72},
{q:"Ù…Ø­ÙŠØ· Ø¯Ø§Ø¦Ø±Ø© Ù‚Ø·Ø±Ù‡Ø§ 14",c:[22,44,66,88],a:44},
{q:"Ù…Ø³Ø§Ø­Ø© Ø¯Ø§Ø¦Ø±Ø© Ù‚Ø·Ø±Ù‡Ø§ 10",c:[75,78,80,100],a:75},
{q:"Ø¹Ø¯Ø¯ Ø²ÙˆØ§ÙŠØ§ Ø§Ù„Ø®Ù…Ø§Ø³ÙŠ",c:[4,5,6,7],a:5},
{q:"(7+5)Ã—3",c:[30,33,36,40],a:36},
{q:"Ø¹Ø¯Ø¯Ø§Ù† Ù…ØªØªØ§Ù„ÙŠØ§Ù† Ù…Ø¬Ù…ÙˆØ¹Ù‡Ù…Ø§ 41",c:["20 Ùˆ21","19 Ùˆ22","18 Ùˆ23","17 Ùˆ24"],a:"20 Ùˆ21"},
{q:"Ù…Ø­ÙŠØ· Ù…Ø³ØªØ·ÙŠÙ„ 12Ã—8",c:[30,36,40,48],a:40},

{q:"(4+5)Â²",c:[81,64,100,121],a:81},
{q:"Ø¹Ø¯Ø¯ Ã—7 = 63",c:[7,8,9,10],a:9},
{q:"Ù…Ø¬Ù…ÙˆØ¹ Ø²ÙˆØ§ÙŠØ§ Ø§Ù„Ù…Ø«Ù„Ø«",c:[90,180,270,360],a:180},
{q:"Ø¹Ø¯Ø¯ Ø²ÙˆØ¬ÙŠ Ù…Ù† Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª",c:[7,9,12,15],a:12},
{q:"Ø¹Ø¯Ø¯ ÙØ±Ø¯ÙŠ Ù…Ù† Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª",c:[8,10,11,14],a:11}
];

function shuffle(a){return a.sort(()=>Math.random()-0.5)}

let questions = shuffle([...allQuestions]).slice(0,10);
let index=0, score=0, log=[];
let timer;

function show(){
    clearTimeout(timer);
    const q=questions[index];
    question.innerText=q.q;
    answers.innerHTML="";
    shuffle([...q.c]).forEach(o=>{
        const b=document.createElement("button");
        b.innerText=o;
        b.onclick=()=>choose(o);
        answers.appendChild(b);
    });
    timer=setTimeout(()=>choose(null),15000);
}

function choose(sel){
    clearTimeout(timer);
    const q=questions[index];
    log.push({q:q.q,sel,cor:q.a});
    if(sel===q.a) score++;
    index++;
    index<questions.length?show():end();
}

function end(){
    localStorage.setItem("mathScore",score+"/10");
    scoreBox.innerText=score+"/10";

    let msg = score>=7?"Ø­ÙŠ Ø¹ÙŠÙ†Ùƒ ÙƒÙÙˆ ÙƒÙÙˆ!"
            :score>=4?"Ù…Ø§Ø§Ø§Ø§Ø´!"
            :"Ù„Ø§ Ø­Ø¯ ÙŠØ´ÙˆÙ Ø¯Ø±Ø¬ØªÙƒ Ø¨Ø³";

    const c=document.createElement("div");
    c.className="center";
    c.innerHTML=`<div>${msg}<br>Ø¯Ø±Ø¬ØªÙƒ: ${score}/10</div>`;
    document.body.appendChild(c);

    setTimeout(()=>{
        c.remove();
        answers.innerHTML="";
        question.innerText="ØªÙØµÙŠÙ„ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª:";
        log.forEach(r=>{
            const d=document.createElement("div");
            d.className="result";
            d.innerHTML=`${r.q}<br>
            <span class="${r.sel===r.cor?'correct':'incorrect'}">
            Ø§Ø®ØªÙŠØ§Ø±Ùƒ: ${r.sel ?? "â±ï¸"}
            </span><br>
            <span class="correct">Ø§Ù„ØµØ­ÙŠØ­: ${r.cor}</span>`;
            answers.appendChild(d);
        });
    },3000);
}

function toggleMenu(){
    menu.style.display = menu.style.display==="block"?"none":"block";
}

show();
</script>

</body>
</html>
