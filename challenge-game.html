<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ØªØ­Ø¯ÙŠ Ø§Ù„Ø£Ù„ÙˆØ§Ù†</title>

<style>
*{box-sizing:border-box;font-family:Arial}

body{
    margin:0;
    min-height:100vh;
    background:linear-gradient(135deg,#222,#000);
    display:flex;
    justify-content:center;
    align-items:center;
    color:#fff;
}

.game-container{
    position:relative;
    width:90%;
    max-width:520px;
    background:rgba(0,0,0,.6);
    padding:30px;
    border-radius:22px;
    text-align:center;
}

.back{
    position:absolute;
    top:15px;
    left:15px;
    border:none;
    border-radius:12px;
    padding:8px 14px;
    cursor:pointer;
}

.menu-btn{
    position:absolute;
    top:15px;
    right:15px;
    cursor:pointer;
    font-size:22px;
}

.menu{
    position:absolute;
    top:55px;
    right:10px;
    background:#fff;
    color:#000;
    width:100%;
    max-width:480px;
    padding:15px;
    border-radius:16px;
    display:none;
    text-align:right;
}

.question{
    background:#fff;
    color:#000;
    padding:25px;
    border-radius:16px;
    font-size:30px;
    margin-bottom:25px;
}

.answers{
    display:flex;
    flex-direction:column;
    gap:15px;
}

.answers button{
    border:none;
    border-radius:16px;
    padding:20px;
    font-size:20px;
    cursor:pointer;
    color:#fff;
}

.center{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.85);
    display:flex;
    justify-content:center;
    align-items:center;
    z-index:100;
}
.center div{
    background:#fff;
    color:#000;
    padding:30px;
    border-radius:20px;
    font-size:24px;
    text-align:center;
}

.result{
    background:#f1f1f1;
    color:#000;
    padding:12px;
    border-radius:12px;
    margin-bottom:10px;
    font-size:14px;
}

.correct{color:green;font-weight:bold}
.incorrect{color:red;font-weight:bold}
</style>
</head>

<body>

<div class="game-container">

<button class="back" onclick="location.href='index.html'">â¬…ï¸</button>
<div class="menu-btn" onclick="toggleMenu()">â˜°</div>

<div class="menu" id="menu">
<h3>ğŸ“Š Ø¢Ø®Ø± Ù†ØªÙŠØ¬Ø©</h3>
<div id="scoreBox">-</div>
</div>

<div class="question" id="question"></div>
<div class="answers" id="answers"></div>

</div>

<script>
const colors=[
{name:"Ø£Ø­Ù…Ø±",color:"red"},
{name:"Ø£Ø²Ø±Ù‚",color:"blue"},
{name:"Ø£Ø®Ø¶Ø±",color:"green"},
{name:"Ø£ØµÙØ±",color:"gold"},
{name:"Ø¨Ù†ÙØ³Ø¬ÙŠ",color:"purple"},
{name:"Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ",color:"orange"}
];

const allQuestions = Array.from({length:50},()=>{
    const word = colors[Math.floor(Math.random()*colors.length)];
    const ink  = colors[Math.floor(Math.random()*colors.length)];
    return {
        q:`Ø§Ø®ØªØ± Ù„ÙˆÙ† Ø§Ù„Ø®Ø·`,
        text:word.name,
        color:ink.color,
        c: shuffle(colors.map(c=>c.name)),
        a: ink.name
    };
});

function shuffle(a){return a.sort(()=>Math.random()-0.5)}

let questions = shuffle([...allQuestions]).slice(0,10);
let index=0, score=0, log=[];
let timer;

function show(){
    clearTimeout(timer);
    const q=questions[index];
    question.innerHTML=`${q.q}<br><span style="color:${q.color}">${q.text}</span>`;
    answers.innerHTML="";
    shuffle([...q.c]).forEach(o=>{
        const b=document.createElement("button");
        b.innerText=o;
        b.style.background=o==="Ø£Ø­Ù…Ø±"?"red":
                           o==="Ø£Ø²Ø±Ù‚"?"blue":
                           o==="Ø£Ø®Ø¶Ø±"?"green":
                           o==="Ø£ØµÙØ±"?"gold":
                           o==="Ø¨Ù†ÙØ³Ø¬ÙŠ"?"purple":"orange";
        b.onclick=()=>choose(o);
        answers.appendChild(b);
    });
    timer=setTimeout(()=>choose(null),5000);
}

function choose(sel){
    clearTimeout(timer);
    const q=questions[index];
    log.push({q:`${q.text} (${q.color})`,sel,cor:q.a});
    if(sel===q.a) score++;
    index++;
    index<questions.length?show():end();
}

function end(){
    localStorage.setItem("challengeScore",score+"/10");
    scoreBox.innerText=score+"/10";

    let msg = score>=7?"Ø­ÙŠ Ø¹ÙŠÙ†Ùƒ ÙƒÙÙˆ ÙƒÙÙˆ!"
            :score>=4?"Ù…Ø§Ø§Ø§Ø§Ø´!"
            :"Ù„Ø§ Ø­Ø¯ ÙŠØ´ÙˆÙ Ø¯Ø±Ø¬ØªÙƒ Ø¨Ø³";

    const c=document.createElement("div");
    c.className="center";
    c.innerHTML=`<div>${msg}<br>Ø¯Ø±Ø¬ØªÙƒ: ${score}/10</div>`;
    document.body.appendChild(c);

    setTimeout(()=>{
        c.remove();
        answers.innerHTML="";
        question.innerText="ØªÙØµÙŠÙ„ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª:";
        log.forEach(r=>{
            const d=document.createElement("div");
            d.className="result";
            d.innerHTML=`${r.q}<br>
            <span class="${r.sel===r.cor?'correct':'incorrect'}">
            Ø§Ø®ØªÙŠØ§Ø±Ùƒ: ${r.sel ?? "â±ï¸"}
            </span><br>
            <span class="correct">Ø§Ù„ØµØ­ÙŠØ­: ${r.cor}</span>`;
            answers.appendChild(d);
        });
    },3000);
}

function toggleMenu(){
    menu.style.display = menu.style.display==="block"?"none":"block";
}

show();
</script>

</body>
</html>
