<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Ù„Ø¹Ø¨Ø© Ø§Ù„Ø°Ø§ÙƒØ±Ø©</title>

<style>
*{box-sizing:border-box;font-family:Arial}

body{
    margin:0;
    min-height:100vh;
    background:linear-gradient(135deg,#264653,#2a9d8f);
    display:flex;
    justify-content:center;
    align-items:center;
    color:#fff;
}

.game-container{
    position:relative;
    width:90%;
    max-width:520px;
    background:rgba(0,0,0,.45);
    padding:30px;
    border-radius:22px;
    text-align:center;
}

.back{
    position:absolute;
    top:15px;
    left:15px;
    border:none;
    border-radius:12px;
    padding:8px 14px;
    cursor:pointer;
}

h2{margin-bottom:10px}

#timer{
    font-size:20px;
    margin-bottom:15px;
}

.board{
    display:grid;
    grid-template-columns:repeat(4,1fr);
    gap:12px;
    justify-items:center;
}

.card{
    width:80px;
    height:80px;
    border-radius:14px;
    background:#84a98c;
    color:#fff;
    font-size:26px;
    display:flex;
    justify-content:center;
    align-items:center;
    cursor:pointer;
    user-select:none;
}

.hidden{
    background:#ccc;
    color:#ccc;
}

.center{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.8);
    display:flex;
    justify-content:center;
    align-items:center;
    z-index:100;
}
.center div{
    background:#fff;
    color:#000;
    padding:30px;
    border-radius:20px;
    font-size:24px;
    text-align:center;
}
</style>
</head>

<body>

<div class="game-container">
    <button class="back" onclick="location.href='index.html'">â¬…ï¸</button>
    <h2>ğŸƒ Ù„Ø¹Ø¨Ø© Ø§Ù„Ø°Ø§ÙƒØ±Ø©</h2>
    <div id="timer">â±ï¸ 0 Ø«Ø§Ù†ÙŠØ©</div>
    <div class="board" id="board"></div>
</div>

<script>
function shuffle(a){return a.sort(()=>Math.random()-0.5)}

const board = document.getElementById("board");
const timerBox = document.getElementById("timer");

let cards=[];
let first=null, second=null, lock=false;
let matches=0;
let startTime, timer;

function start(){
    const nums=[1,2,3,4,5,6,7,8];
    cards = shuffle([...nums,...nums]);
    board.innerHTML="";
    matches=0;
    first=second=null;
    lock=false;

    cards.forEach(n=>{
        const c=document.createElement("div");
        c.className="card hidden";
        c.dataset.val=n;
        c.onclick=()=>flip(c);
        board.appendChild(c);
    });

    startTime=Date.now();
    timer=setInterval(updateTime,1000);
}

function updateTime(){
    const t=Math.floor((Date.now()-startTime)/1000);
    timerBox.innerText="â±ï¸ "+t+" Ø«Ø§Ù†ÙŠØ©";
}

function flip(card){
    if(lock || !card.classList.contains("hidden")) return;
    card.classList.remove("hidden");
    card.innerText=card.dataset.val;

    if(!first){ first=card; return; }
    second=card;
    lock=true;
    setTimeout(check,600);
}

function check(){
    if(first.dataset.val===second.dataset.val){
        matches++;
        if(matches===8) endGame();
    }else{
        first.classList.add("hidden");
        second.classList.add("hidden");
        first.innerText=second.innerText="";
    }
    first=second=null;
    lock=false;
}

function endGame(){
    clearInterval(timer);
    const time=Math.floor((Date.now()-startTime)/1000);

    let msg =
        time<=40 ? "Ø­ÙŠ Ø¹ÙŠÙ†Ùƒ ğŸ”¥" :
        time<=60 ? "Ù…Ø§Ø§Ø§Ø§Ø´ ğŸ˜…" :
        "Ø·ÙˆÙ„Øª ÙŠØ§ Ø£Ø®ÙŠ Ø¬Ø§Ù†Ø§ Ø§Ù„Ù†ÙˆÙ… ğŸ˜´";

    const c=document.createElement("div");
    c.className="center";
    c.innerHTML=`<div>${msg}<br>ÙˆÙ‚ØªÙƒ: ${time} Ø«Ø§Ù†ÙŠØ©</div>`;
    document.body.appendChild(c);

    setTimeout(()=>c.remove(),3000);
}

start();
</script>

</body>
</html>
